<section
  class="relative flex items-center justify-center bg-white text-black pb-[750px]"
>
  <!-- FLOR ESQUINA SUPERIOR IZQUIERDA -->
  <div class="absolute top-0 left-0 z-20" id="flor-izquierda">
    <img
      src="/images/florIzquierda.png"
      alt="Flores izquierda"
      class="w-44 h-auto sm:w-24 sm:h-28 md:w-28 md:h-32 lg:w-32 lg:h-36 xl:w-36 xl:h-40 object-contain"
    />
  </div>

  <!-- FLOR ESQUINA SUPERIOR DERECHA -->
  <div class="absolute top-0 right-0 z-20" id="flor-derecha">
    <img
      src="/images/florDerecha.png"
      alt="Flores derecha"
      class="w-44 h-auto sm:w-24 sm:h-28 md:w-28 md:h-32 lg:w-32 lg:h-36 xl:w-36 xl:h-40 object-contain"
    />
  </div>

  <!-- CONTENIDO CENTRAL -->
  <div class="text-center px-4 z-10 max-w-4xl w-full">
    <!-- CORONA EN EL MEDIO -->
    <div class="absolute top-16 left-1/2 transform -translate-x-1/2 z-30" id="corona">
      <img
        src="/images/coronaPlateado.png"
        alt="Corona de quinceañera"
        class="w-24 h-auto sm:w-24 sm:h-24 md:w-28 md:h-28 lg:w-32 lg:h-32 xl:w-36 xl:h-36 object-contain"
      />
    </div>

   <!-- TEXTO "MIS XV AÑOS" CON MARIPOSAS RESPONSIVE -->
    <div class="absolute top-[170px] left-1/2 transform -translate-x-1/2 text-center z-30 mb-6 w-full" id="titulo-container">
      <!-- Contenedor flexible para las mariposas y texto -->
      <div class="flex items-center justify-center gap-7 sm:gap-4 md:gap-6 lg:gap-8 px-4">
        
        <!-- 🦋 MARIPOSA IZQUIERDA -->
        <div id="mariposa-izq" class="flex-shrink-0">
          <img
            src="/gif/mariposaVerde.gif"
            alt="Mariposa izquierda"
            class="w-8 h-auto sm:w-8 sm:h-8 md:w-10 md:h-10 lg:w-12 lg:h-12 object-contain "
          />
        </div>

        <!-- TEXTO CENTRAL -->
        <div id="titulo" class="flex-shrink-0">
          <h1 class="font-crimson text-lg sm:text-2xl md:text-3xl lg:text-4xl xl:text-5xl text-[#4e684b] font-semibold tracking-wider whitespace-nowrap">
            MIS XV AÑOS
          </h1>
        </div>

        <!-- 🦋 MARIPOSA DERECHA -->
        <div id="mariposa-der" class="flex-shrink-0">
          <img
            src="/gif/mariposaVerde.gif"
            alt="Mariposa derecha"
            class="w-8 h-auto sm:w-8 sm:h-8 md:w-10 md:h-10 lg:w-12 lg:h-12 object-contain transform scale-x-[-1]"
          />
        </div>

      </div>
    </div>

    <!-- NOMBRE DE LA QUINCEAÑERA -->
    <div class="absolute top-[230px] w-full left-1/2 transform -translate-x-1/2 text-center z-30" id="nombre-container">
      <h2 class="font-great-vibes text-7xl sm:text-4xl md:text-5xl lg:text-6xl xl:text-7xl text-[#4e684b] tracking-wide" id="nombre-typewriter">
        <!-- Las letras se crearán dinámicamente -->
      </h2>
    </div>

    <!-- 📸 IMAGEN FOTO1 -->
    <div class="absolute top-[300px] left-1/2 transform -translate-x-1/2 z-30" id="foto-container">
      <img
        src="/images/foto1.png"
        alt="Foto de quinceañera"
        class="w-[98vw] max-w-none h-auto sm:w-[95vw] md:w-[85vw] lg:w-[70vw] xl:w-[55vw] object-contain"
        id="foto1"
      />
    </div>
    <!-- Esto es para bajar a la pasicionq ue quearmos pero invisible otra formas es poern un pb-750 px arriba de la imagen -->
    <!-- <div class="w-full h-[750px] invisible"></div> -->
  </div>
</section>

<!-- ANIMACIONES GSAP CON CASCADA DE LETRAS -->
<script>
import { gsap } from 'gsap';

document.addEventListener('DOMContentLoaded', () => {
    console.log('Iniciando animaciones con cascada de letras...');
   
    // 🌸 Animación flor izquierda
    gsap.fromTo("#flor-izquierda",
        { opacity: 0 },
        { opacity: 1, duration: 1, ease: "power2.out" }
    );
   
    // 🌸 Animación flor derecha  
    gsap.fromTo("#flor-derecha",
        { opacity: 0 },
        { opacity: 1, duration: 1, ease: "power2.out" }
    );
       
    // 👑 Animación para la corona
    gsap.fromTo("#corona",
        { opacity: 0, scale: 0.5 },
        { opacity: 1, scale: 1, duration: 1.2, ease: "back.out(1.2)", delay: 0.5 }
    );

    // 📝 Animación para "MIS XV AÑOS"
    gsap.fromTo("#titulo",
        { opacity: 0, y: 30 },
        { opacity: 1, y: 0, duration: 1, ease: "power2.out", delay: 1.2 }
    );

    // 🦋 MARIPOSA IZQUIERDA - Vuela desde la izquierda
    gsap.fromTo("#mariposa-izq",
        { 
            opacity: 0, 
            x: -100,           // Empieza muy a la izquierda
            y: -20,            // Un poco arriba
            rotation: -10,     // Ligeramente inclinada
            scale: 0.8 
        },
        { 
            opacity: 1, 
            x: 0,              // Llega a su posición
            y: 0, 
            rotation: 0, 
            scale: 1,
            duration: 3,
            ease: "power2.out",
            delay: 1.6
        }
    );

    // 🦋 MARIPOSA DERECHA - Vuela desde la derecha  
    gsap.fromTo("#mariposa-der",
        { 
            opacity: 0, 
            x: 100,            // Empieza muy a la derecha
            y: -15,            // Un poco arriba
            rotation: 10,      // Inclinada al otro lado
            scale: 0.8 
        },
        { 
            opacity: 1, 
            x: 0,              // Llega a su posición
            y: 0, 
            rotation: 0, 
            scale: 1,
            duration: 3,
            ease: "power2.out",
            delay: 1.8         // Un poco después que la primera
        }
    );

    // ✨ EFECTO DE ALETEO CONTINUO (después de que llegan)
    gsap.to("#mariposa-izq", {
        y: -10,
        rotation: 2,
        duration: 1.5,
        ease: "power2.inOut",
        yoyo: true,
        repeat: -1,
        delay: 3.2          // Empieza después de que llegaron
    });

    // ✨ EFECTO DE ALETEO PARA MARIPOSA DERECHA
    gsap.to("#mariposa-der", {
        y: -10,
        rotation: -2,             // Rotación opuesta para variedad
        duration: 1.5,
        ease: "power2.inOut",
        yoyo: true,
        repeat: -1,
        delay: 3.4                // Ligeramente después que la izquierda
    });

    // 🎭 EFECTO CASCADA SOFISTICADA PARA "ABIGAIL"
    function nombreCascadaElegante() {
        const texto = "Abigail";
        const contenedor = document.getElementById("nombre-typewriter");
        if (!contenedor) return;
        
        // Crear spans individuales para cada letra con estilos elegantes
        contenedor.innerHTML = texto.split('').map((letra, index) => 
            `<span class="letra-cascada" style="
                --i: ${index};
                opacity: 0; 
                display: inline-block; 
                transform: translateY(30px) scale(0.8);
                filter: blur(2px);
            ">${letra}</span>`
        ).join('');
        
        // Mostrar el contenedor
        gsap.set("#nombre-container", { opacity: 1 });
        
        // Animar cada letra con efecto cascada elegante
        gsap.to(".letra-cascada", {
            opacity: 1,
            y: 0,
            scale: 1,
            filter: "blur(0px)",
            duration: 0.8,
            ease: "back.out(1.6)",
            stagger: {
                each: 0.12,
                from: "start"
            },
            delay: 1.5,
            onComplete: function() {
                // Efecto sutil de "settling" al final
                gsap.to(".letra-cascada", {
                    y: -2,
                    duration: 0.4,
                    ease: "power2.inOut",
                    stagger: 0.05,
                    yoyo: true,
                    repeat: 1
                });
            }
        });
        
        // Efecto de brillo sutil que recorre las letras
        gsap.to(".letra-cascada", {
            textShadow: "0 0 8px rgba(78, 104, 75, 0.4)",
            duration: 0.3,
            ease: "power2.inOut",
            stagger: 0.1,
            delay: 3.5,
            yoyo: true,
            repeat: 1
        });
    }

    // 📸 Animación para la imagen debajo del nombre
    gsap.fromTo("#foto-container",
        {
            opacity: 0,
            scale: 0.8,
            y: 30
        },
        {
            opacity: 1,
            scale: 1,
            y: 0,
            duration: 1.2,
            ease: "power2.out",
            delay: 2.8          // Aparece después del nombre
        }
    );

    // 🚀 Iniciar efecto cascada
    nombreCascadaElegante();
   
    console.log('Animaciones con cascada completadas');
});
</script>

<style>
/* Estilos para cascada de letras elegante */
.letra-cascada {
    transition: all 0.3s ease;
    will-change: transform, opacity, filter;
    position: relative;
}

.letra-cascada:hover {
    transform: translateY(-3px) scale(1.05) !important;
    text-shadow: 0 0 12px rgba(78, 104, 75, 0.5) !important;
    transition: all 0.2s ease;
}

#nombre-typewriter:hover .letra-cascada {
    animation: gentleFloat 2s ease-in-out infinite;
    animation-delay: calc(var(--i) * 0.1s);
}

@keyframes gentleFloat {
    0%, 100% { transform: translateY(0px); }
    50% { transform: translateY(-2px); }
}

/* Efecto de onda al hacer hover en el contenedor */
#nombre-container:hover .letra-cascada {
    animation: ondaElegante 1.5s ease-in-out infinite;
    animation-delay: calc(var(--i) * 0.1s);
}

@keyframes ondaElegante {
    0%, 100% { 
        transform: translateY(0px) scale(1);
        text-shadow: 0 0 5px rgba(78, 104, 75, 0.2);
    }
    50% { 
        transform: translateY(-4px) scale(1.02);
        text-shadow: 0 0 10px rgba(78, 104, 75, 0.4);
    }
}

/* Brillos sutiles en las letras */
.letra-cascada::before {
    content: '';
    position: absolute;
    top: -2px;
    left: -2px;
    right: -2px;
    bottom: -2px;
    background: radial-gradient(circle, rgba(78, 104, 75, 0.1) 0%, transparent 70%);
    border-radius: 50%;
    opacity: 0;
    transition: opacity 0.3s ease;
    pointer-events: none;
    z-index: -1;
}

.letra-cascada:hover::before {
    opacity: 1;
}
</style>